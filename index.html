<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INVESTHAUS | THE OPTIONS CODEX (Master Curriculum)</title>
    
    <!-- Core Dependencies -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@0.469.0/dist/umd/lucide.min.js"></script>
    
    <!-- MathJax for Formula Rendering -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap');
        
        html { scroll-behavior: smooth; }
        
        /* SITE COLOR MATCHING & ISOLATION (#020202 and #c5a059) */
        #root {
            background-color: #020202 !important; 
            color: #d4d4d8 !important;
            font-family: 'Inter', sans-serif !important;
            min-height: 100vh;
            width: 100%;
            line-height: 1.8;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            position: relative;
        }

        body { 
            background-color: #020202 !important;
            margin: 0;
            padding: 0;
        }

        #root .font-mono { font-family: 'JetBrains+Mono', monospace !important; }

        #root .active-glow {
            box-shadow: 0 0 40px rgba(197, 160, 89, 0.15); 
        }

        #root .gold-text-glow {
            text-shadow: 0 0 15px rgba(197, 160, 89, 0.4);
        }

        #root .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: #c5a059;
            z-index: 100;
            transition: width 0.1s ease-out;
        }

        #root section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            padding: 8rem 1.5rem;
            max-width: 60rem;
            margin: 0 auto;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        #root .label-gold {
            color: #c5a059;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            font-size: 0.75rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        #root h2 {
            font-size: 3.5rem;
            font-weight: 900;
            color: white !important;
            text-transform: uppercase;
            font-style: italic;
            letter-spacing: -0.05em;
            line-height: 1.1;
            margin-bottom: 2.5rem;
        }

        #root h3 {
            font-size: 2.2rem;
            font-weight: 800;
            color: #c5a059 !important;
            text-transform: uppercase;
            font-style: italic;
            margin-top: 5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #c5a059;
            padding-left: 1.5rem;
        }

        #root h4 {
            font-size: 1.4rem;
            font-weight: 800;
            color: white !important;
            text-transform: uppercase;
            margin-bottom: 1.5rem;
            margin-top: 3rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        #root p {
            font-size: 1.3rem;
            color: #a1a1aa !important;
            margin-bottom: 2.5rem;
            font-weight: 400;
        }

        #root .interactive-box {
            background: #080808;
            border: 1px solid rgba(197, 160, 89, 0.1);
            border-radius: 2rem;
            padding: 3.5rem;
            width: 100%;
            margin: 3rem 0;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
        }

        #root .visual-card {
            border-radius: 2rem;
            background: #050505;
            border: 1px solid rgba(255, 255, 255, 0.05);
            padding: 3rem;
            margin: 3.5rem 0;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #root .master-sidebar {
            background: rgba(197, 160, 89, 0.02);
            border-left: 3px solid #c5a059;
            padding: 2rem;
            margin: 3rem 0;
            border-radius: 0 1rem 1rem 0;
        }

        #root .psychology-card {
            background: rgba(14, 165, 233, 0.03);
            border-left: 3px solid #0ea5e9;
            padding: 2.5rem;
            margin: 4rem 0;
            border-radius: 0 1rem 1rem 0;
        }

        #root .slider-custom {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            background: #1a1a1a;
            border-radius: 10px;
            outline: none;
        }

        #root .slider-custom::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            background: #c5a059;
            cursor: pointer;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(197, 160, 89, 0.5);
            border: 3px solid #000;
        }

        #root .path-draw {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: drawPath 4s forwards ease-out;
        }

        @keyframes drawPath { to { stroke-dashoffset: 0; } }

        #root .melting-icon {
            transition: transform 0.2s ease-out, opacity 0.2s ease-out;
        }

        .lock-screen {
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(40px);
            border: 1px solid rgba(197, 160, 89, 0.1);
            border-radius: 2rem;
            padding: 4rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 500px;
        }

        .logo-nav {
            height: 32px;
            width: auto;
            object-fit: contain;
        }

        .logo-main {
            height: 120px;
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 0 25px rgba(197, 160, 89, 0.3));
        }

        #root strong {
            color: white !important;
            font-weight: 800;
        }

        @media (max-width: 768px) {
            #root h2 { font-size: 2.2rem; }
            #root section { padding: 4rem 1rem; }
            #root .interactive-box { padding: 1.5rem; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const Icon = ({ name, size = 20, className = "", style = {} }) => {
            const iconData = window.lucide ? window.lucide.icons[name] : null;
            if (!iconData) return null;
            const children = iconData[2] || [];
            return (
                <svg
                    width={size}
                    height={size}
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    strokeWidth="2.5"
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    className={className}
                    style={style}
                    dangerouslySetInnerHTML={{ 
                        __html: children.map(tag => {
                            const [tagName, attrs] = tag;
                            const attrStr = Object.entries(attrs).map(([k, v]) => `${k}="${v}"`).join(' ');
                            return `<${tagName} ${attrStr}></${tagName}>`;
                        }).join('') 
                    }}
                />
            );
        };

        const Logo = ({ type = "nav" }) => {
            const [error, setError] = useState(false);
            const logoPath = "Investhaus.jpg"; 
            
            if (error) {
                return type === "nav" ? (
                    <div className="w-8 h-8 bg-[#c5a059] rounded flex items-center justify-center text-black font-black italic text-xl shadow-lg shadow-[#c5a059]/20">I</div>
                ) : (
                    <div className="p-10 bg-[#c5a059]/10 rounded-[3rem] border border-[#c5a059]/20 mb-6 shadow-2xl shadow-[#c5a059]/10 animate-pulse text-center">
                        <Icon name="Target" size={100} className="text-[#c5a059]" />
                    </div>
                );
            }

            return (
                <img 
                    src={logoPath} 
                    alt="Investhaus" 
                    className={type === "nav" ? "logo-nav" : "logo-main mb-6"}
                    onError={() => setError(true)}
                />
            );
        };

        const LockGate = ({ lessonId, password, onUnlock }) => {
            const [input, setInput] = useState('');
            const [error, setError] = useState(false);

            const checkPass = (e) => {
                e.preventDefault();
                if (input.trim() === password) {
                    onUnlock(lessonId);
                } else {
                    setError(true);
                    setTimeout(() => setError(false), 1000);
                }
            };

            return (
                <div className={`lock-screen ${error ? 'border-red-500/50' : ''}`}>
                    <div className="w-16 h-16 bg-[#c5a059]/10 rounded-full flex items-center justify-center mb-6">
                        <Icon name="Lock" size={32} className="text-[#c5a059]" />
                    </div>
                    <h3 className="text-white font-black italic uppercase text-xl tracking-tighter mb-2 text-center">Technical Archive Secured</h3>
                    <p className="text-zinc-500 text-xs font-bold uppercase tracking-widest mb-10 italic text-center">Decryption credentials required for Archive 0{lessonId}</p>
                    <form onSubmit={checkPass} className="w-full max-w-xs space-y-4">
                        <input 
                            type="text" 
                            value={input}
                            onChange={(e) => setInput(e.target.value.toUpperCase())}
                            placeholder="TICKER PASSCODE"
                            className="w-full bg-black border border-white/10 rounded-lg px-6 py-4 text-center font-mono text-[#c5a059] outline-none focus:border-[#c5a059] transition-all tracking-[0.4em]"
                        />
                        <button type="submit" className="w-full bg-[#c5a059] text-black font-black uppercase text-[10px] tracking-[0.2em] py-4 rounded-lg italic hover:bg-white transition-all shadow-xl shadow-[#c5a059]/10">
                            VERIFY OPERATOR
                        </button>
                    </form>
                </div>
            );
        };

        const App = () => {
            const [scrollProgress, setScrollProgress] = useState(0);
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            
            // Password State
            const [unlocked, setUnlocked] = useState({ 1: false, 2: false, 3: false });
            
            // Shared States
            const [strikeChoice, setStrikeChoice] = useState(110);
            const [deltaVal, setDeltaVal] = useState(0.50);
            const [moveInput, setMoveInput] = useState(1.00);
            const [thetaTime, setThetaTime] = useState(45);
            const [vegaVol, setVegaVol] = useState(25);
            
            // Lesson 3 States
            const [structureStep, setStructureStep] = useState(0);
            const [candleHigh, setCandleHigh] = useState(150);
            const [candleClose, setCandleClose] = useState(130);
            const [candleOpen, setCandleOpen] = useState(100);
            const [candleLow, setCandleLow] = useState(80);
            const [activeCycle, setActiveCycle] = useState('Accumulation');

            useEffect(() => {
                const handleScroll = () => {
                    const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
                    const progress = (window.scrollY / totalHeight) * 100;
                    setScrollProgress(progress);
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const jumpTo = (id) => {
                const el = document.getElementById(id);
                if (el) el.scrollIntoView({ behavior: 'smooth' });
                setIsMenuOpen(false);
            };

            const handleUnlock = (id) => {
                setUnlocked(prev => ({ ...prev, [id]: true }));
            };

            const chapters = [
                { id: "cover", label: "START", title: "Archive Intro" },
                { id: "lesson1", label: "WEEK 1", title: "Contractual Engine" },
                { id: "lesson2", label: "WEEK 2", title: "The Greeks Engine" },
                { id: "lesson3", label: "WEEK 3", title: "Architecture of Execution" }
            ];

            return (
                <div id="root">
                    <div className="progress-bar" style={{ width: `${scrollProgress}%` }}></div>

                    {/* Navigation */}
                    <nav className="fixed top-0 inset-x-0 z-50 bg-[#020202]/95 backdrop-blur-xl border-b border-white/5 px-6 py-4 flex justify-between items-center">
                        <div className="flex items-center gap-3 cursor-pointer" onClick={() => jumpTo('cover')}>
                            <Logo type="nav" />
                            <span className="font-black uppercase tracking-tighter text-white hidden sm:inline italic text-left">OPTIONS CODEX</span>
                        </div>
                        <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="p-2 hover:bg-white/5 rounded-lg transition-colors flex items-center gap-3">
                            <span className="text-[10px] font-black uppercase text-zinc-500 tracking-widest hidden sm:inline italic text-left">Security Status</span>
                            <Icon name={isMenuOpen ? "X" : "Menu"} className="text-zinc-400" />
                        </button>
                    </nav>

                    {isMenuOpen && (
                        <div className="fixed inset-0 z-[60] bg-black/98 overflow-y-auto flex flex-col p-10 pt-24 backdrop-blur-md text-left">
                            <div className="max-w-4xl mx-auto w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                                {chapters.map((c) => (
                                    <button 
                                        key={c.id} onClick={() => jumpTo(c.id)}
                                        className="p-6 bg-zinc-950 border border-white/5 rounded-2xl text-left hover:border-[#c5a059] transition-all group"
                                    >
                                        <p className="text-[#c5a059] font-black text-[9px] mb-2">{c.label}</p>
                                        <h4 className="text-[11px] font-black text-white group-hover:text-[#c5a059] transition-colors uppercase italic leading-tight text-left">{c.title}</h4>
                                    </button>
                                ))}
                            </div>
                        </div>
                    )}

                    <main>
                        {/* COVER */}
                        <section id="cover" className="items-center justify-center text-center">
                            <div className="space-y-10">
                                <Logo type="main" />
                                <h1 className="text-6xl md:text-[11rem] font-black text-white italic uppercase tracking-tighter leading-[0.75] mb-4 text-center">
                                    LEGACY <br/> <span className="text-transparent bg-clip-text bg-gradient-to-b from-zinc-100 to-zinc-500 text-center">ARCHITECT</span> <br/> SERIES
                                </h1>
                                <p className="text-xl md:text-3xl text-zinc-500 font-bold uppercase tracking-[0.4em] pt-8 italic leading-tight text-center gold-text-glow">
                                    Master Level Mentorship Archive
                                </p>
                            </div>
                        </section>

                        {/* WEEK 01: CONTRACTUAL ENGINE (PASSWORD: $SPY) */}
                        <section id="lesson1">
                            {!unlocked[1] ? (
                                <LockGate lessonId={1} password="$SPY" onUnlock={handleUnlock} />
                            ) : (
                                <div className="fade-in text-left">
                                    <div className="label-gold"><Icon name="BookOpen" size={14} /> Week 01: Foundational Sovereignty</div>
                                    <h2>The Art of the Decision</h2>
                                    <p>An option is a legally binding agreement that allows you to control price movement within a set window of time. We own the <strong>Rights</strong> to the asset's move.</p>
                                    
                                    <h3>1. Rights vs. Obligations: The Operator's Edge</h3>
                                    <p>In the traditional world, you buy a stock and hope it goes up. If it drops, you bleed. In the <strong>Options Codex</strong>, you pay a small fee (The Premium) for the <strong>Right</strong> to control 100 shares. If the trade fails, you simply lose the fee. Your risk is capped, but your upside is explosive.</p>

                                    <div className="master-sidebar">
                                        <h4 className="text-[#c5a059] italic text-sm mb-4">Architect Edge: The 1% Risk Law</h4>
                                        <p className="text-zinc-500 text-[11px] font-bold uppercase tracking-widest leading-loose italic">
                                            Amateurs gamble their whole bank on one trade. Professionals only deploy 1-2% of their total equity per contract. If your bank is $10k, your "Premium" loss limit is $200. This ensures that even a string of losses cannot terminate your empire.
                                        </p>
                                    </div>

                                    <h3>2. The Multiplier: Call vs Put Sovereignty</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8 my-12 text-left">
                                        <div className="p-10 bg-green-500/5 border border-green-500/20 rounded-[2.5rem] hover:border-green-500/40 transition-all text-left">
                                            <h4 className="text-green-500 italic underline underline-offset-8 decoration-green-500/30 text-left">THE CALL</h4>
                                            <p className="text-zinc-500 text-[11px] font-black uppercase tracking-widest mt-8 leading-loose italic text-left">
                                                The right to BUY stock at a set price. Deployed during upward <strong>Markup</strong> phases. When the Index breaks a ceiling, Call armies are activated.
                                            </p>
                                        </div>
                                        <div className="p-10 bg-red-500/5 border border-red-500/20 rounded-[2.5rem] hover:border-red-500/40 transition-all text-left">
                                            <h4 className="text-red-500 italic underline underline-offset-8 decoration-red-500/30 text-left">THE PUT</h4>
                                            <p className="text-zinc-500 text-[11px] font-black uppercase tracking-widest mt-8 leading-loose italic text-left">
                                                The right to SELL stock at a set price. Deployed during downward <strong>Markdown</strong> phases. When banks dump inventory, Put armies profit from the collapse.
                                            </p>
                                        </div>
                                    </div>

                                    <div className="psychology-card">
                                        <h4 className="text-[#0ea5e9] italic text-sm mb-4 flex items-center gap-3">
                                            <Icon name="BrainCircuit" size={18} /> Psychology of the Operator: Identity Shift
                                        </h4>
                                        <p className="text-zinc-400 text-[11px] font-bold uppercase tracking-widest leading-loose italic">
                                            The moment you buy an option, the "Premium" is already gone. Stop checking your P&L every 5 seconds. You are not a "Retailer" watching numbers; you are an <strong>Architect</strong> who has paid a business expense to see if a technical hypothesis is correct. Detach from the money to attach to the execution.
                                        </p>
                                    </div>

                                    <h3>3. The 1:100 Military Multiplier</h3>
                                    <p>Every <strong>1 contract</strong> you buy controls exactly <strong>100 shares</strong>. This is <strong>Capital Efficiency.</strong> You control a $15,000 army of Nvidia shares for a $300 deposit. You are a General of Capital.</p>

                                    <div className="interactive-box">
                                        <h4 className="text-white font-black uppercase text-xs tracking-widest mb-10 text-center italic text-[#c5a059] text-center text-center">Multiplier Efficiency Simulator</h4>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-12 items-center text-left">
                                            <div className="space-y-10">
                                                <div className="space-y-2">
                                                    <p className="text-[10px] font-black text-zinc-500 uppercase italic tracking-widest text-left">Select Strike Target:</p>
                                                    <input type="range" min="80" max="150" value={strikeChoice} onChange={(e) => setStrikeChoice(parseInt(e.target.value))} className="slider-custom" />
                                                    <p className="text-4xl font-black text-white italic font-mono tracking-tighter text-left">${strikeChoice}</p>
                                                </div>
                                            </div>
                                            <div className="bg-[#050505] p-8 rounded-3xl border border-white/5 space-y-6 text-left">
                                                <div className="flex justify-between items-center text-left">
                                                    <span className="text-[10px] font-black uppercase text-zinc-500 tracking-widest text-left">Multiplier Deployed</span>
                                                    <span className={`font-mono font-black text-green-500 italic uppercase text-left`}>1:100 Units</span>
                                                </div>
                                                <div className="flex justify-between items-center pt-4 border-t border-white/5 text-left">
                                                    <span className="text-[10px] font-black uppercase text-[#c5a059] italic tracking-widest text-left">Moneyness</span>
                                                    <span className="font-mono text-xl font-bold text-white tracking-tighter uppercase italic text-left">{strikeChoice > 110 ? 'OUT OF MONEY' : 'IN THE MONEY'}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </section>

                        {/* WEEK 02: THE GREEKS ENGINE (PASSWORD: $NQ) */}
                        <section id="lesson2">
                            {!unlocked[2] ? (
                                <LockGate lessonId={2} password="$NQ" onUnlock={handleUnlock} />
                            ) : (
                                <div className="fade-in text-left">
                                    <div className="label-gold"><Icon name="Zap" size={14} /> Week 02: The Greeks Engine</div>
                                    <h2>The Technical Force Field</h2>
                                    <p>Options are governed by mathematical forces. To be a Master Architect, you must understand how price, time, and fear change your contract's value every second.</p>

                                    <h3>I. Force of Delta (The Speedometer)</h3>
                                    <p>Delta measures your contract's torque. If Delta is 0.60, your contract gains $60 for every $1.00 the stock moves. We use high Delta (0.60-0.70) to ensure we capture the meat of the move.</p>
                                    <div className="interactive-box text-left">
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-16 items-center text-left">
                                            <div className="space-y-12">
                                                <div className="space-y-4 text-left">
                                                    <p className="text-[10px] font-black text-[#c5a059] uppercase italic tracking-widest text-left">Delta (Engine Strength)</p>
                                                    <input type="range" min="0" max="100" value={deltaVal * 100} onChange={(e) => setDeltaVal(parseInt(e.target.value) / 100)} className="slider-custom" />
                                                    <p className="text-4xl font-black text-white italic font-mono text-left">{deltaVal.toFixed(2)}</p>
                                                </div>
                                            </div>
                                            <div className="relative p-12 bg-[#050505] border-2 border-[#c5a059]/20 rounded-full text-center active-glow text-center">
                                                <p className="text-[9px] text-zinc-500 font-black uppercase mb-1 italic text-center">Value Shift</p>
                                                <p className={`text-6xl font-black italic font-mono ${moveInput * deltaVal >= 0 ? 'text-green-500' : 'text-red-500'}`}>
                                                    ${(moveInput * deltaVal).toFixed(2)}
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <h3>II. Force of Theta (The Time Thief - THE 3 STAGES)</h3>
                                    <p>Every second you hold an option, you are paying rent. Theta is the daily decay of your contract. Professionals treat time like a depleting battery.</p>
                                    
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 my-12 text-left">
                                        {[
                                            { stage: "Linear Decay", days: "45-30 Days", text: "Decay is predictable. This is the luxury zone." },
                                            { stage: "Parabolic Melt", days: "30-14 Days", text: "Rent doubles. Capital begins to vanish faster." },
                                            { stage: "Terminal Cliff", days: "14-0 Days", text: "Pure combat. Capital evaporates at 5% per hour." }
                                        ].map((t, idx) => (
                                            <div key={idx} className="p-6 bg-zinc-950 border border-white/5 rounded-xl text-left hover:border-[#c5a059]/40 transition-all text-left">
                                                <h5 className="text-[#c5a059] font-black italic uppercase text-xs mb-2 text-left">Stage {idx+1}: {t.stage}</h5>
                                                <p className="text-zinc-500 text-[10px] uppercase font-bold tracking-widest mb-4 text-left">Duration: {t.days}</p>
                                                <p className="text-[11px] text-zinc-400 leading-relaxed italic text-left">{t.text}</p>
                                            </div>
                                        ))}
                                    </div>

                                    <div className="master-sidebar">
                                        <h4 className="text-[#c5a059] italic text-sm mb-4">Architect Edge: The Golden 50% Rule</h4>
                                        <p className="text-zinc-500 text-[11px] font-bold uppercase tracking-widest leading-loose italic text-left">
                                            Never wait for a 100% gain. Theta becomes violent at the end. A Master Architect exits a winning trade at 50% profit. This allows you to win 7 out of 10 trades by avoiding the "Theta Crash" at the end of a setup.
                                        </p>
                                    </div>

                                    <div className="psychology-card">
                                        <h4 className="text-[#0ea5e9] italic text-sm mb-4 flex items-center gap-3">
                                            <Icon name="Timer" size={18} /> Psychology of Time: The Hoper's Trap
                                        </h4>
                                        <p className="text-zinc-400 text-[11px] font-bold uppercase tracking-widest leading-loose italic">
                                            When an option is down 40%, the human brain enters the "Hope Phase." You tell yourself it will bounce. <strong>Hope is not a technical strategy.</strong> If your technical floor breaks, you exit immediately. Holding a melting asset while "hoping" is how empires are destroyed by Theta.
                                        </p>
                                    </div>

                                    <div className="interactive-box text-center">
                                        <h4 className="text-white font-black uppercase text-xs tracking-widest mb-12 italic text-[#c5a059] text-center text-center">Interactive Theta Cliff Visualizer</h4>
                                        <div className="flex flex-col items-center space-y-12">
                                            <div className="relative flex items-center justify-center group text-center">
                                                <div className="w-56 h-56 bg-[#c5a059]/5 rounded-full border-4 border-dashed border-[#c5a059]/10 animate-spin-slow text-center"></div>
                                                <div className="absolute transition-all duration-300 melting-icon text-center" style={{ transform: `scale(${Math.max(0.15, thetaTime/45)})`, opacity: Math.max(0.2, thetaTime/45) }}>
                                                    <Icon name="Snowflake" size={120} className="text-[#c5a059] shadow-[0_0_80px_rgba(197,160,89,0.3)] text-center" />
                                                </div>
                                            </div>
                                            <div className="w-full max-w-sm text-center mx-auto mt-16 space-y-4 text-center">
                                                <input type="range" min="1" max="45" value={thetaTime} onChange={(e) => setThetaTime(parseInt(e.target.value))} className="slider-custom" />
                                                <p className="text-[#c5a059] font-black uppercase tracking-widest text-xl italic font-mono text-center">{thetaTime} Days Remaining</p>
                                            </div>
                                        </div>
                                    </div>

                                    <h3>III. Force of Vega (The Fear Inflator)</h3>
                                    <p>Vega is the sensory perception of <strong>Panic.</strong> When the market screams, option prices explode. We buy when volatility is low and sell when everyone else is scared.</p>
                                    <div className="visual-card bg-amber-500/[0.02]">
                                        <div className="flex flex-col md:flex-row items-center gap-10 w-full max-w-xl text-left">
                                            <div className="flex-1 space-y-4 text-left">
                                                <p className="text-[10px] font-black text-amber-500 uppercase tracking-widest text-left">Panic Level (IV %)</p>
                                                <input type="range" min="10" max="100" value={vegaVol} onChange={(e) => setVegaVol(parseInt(e.target.value))} className="slider-custom" />
                                                <p className="text-4xl font-black text-white italic font-mono text-left">{vegaVol}%</p>
                                            </div>
                                            <div className="relative w-40 h-40 flex items-center justify-center text-center">
                                                <div className="absolute inset-0 bg-[#c5a059]/20 rounded-full blur-3xl transition-all duration-500 text-center" style={{ transform: `scale(${vegaVol/40})`, opacity: vegaVol/100 }}></div>
                                                <Icon name="Activity" size={40} className="text-[#c5a059] text-center" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </section>

                        {/* WEEK 03: ARCHITECTURE OF EXECUTION (PASSWORD: $IWM) */}
                        <section id="lesson3">
                            {!unlocked[3] ? (
                                <LockGate lessonId={3} password="$IWM" onUnlock={handleUnlock} />
                            ) : (
                                <div className="fade-in text-left">
                                    <div className="label-gold"><Icon name="Activity" size={14} /> Week 03: Architecture of Execution</div>
                                    <h2>Market Structure Mastery</h2>
                                    <p>To trade options profitably, you must stop looking at price and start looking at <strong>Structure.</strong> Price only moves because there is a struggle for territory between buyers and sellers.</p>

                                    <div className="master-sidebar">
                                        <h4 className="text-[#c5a059] italic text-sm mb-4">Architect Edge: The General vs. The Soldier</h4>
                                        <p className="text-zinc-500 text-[11px] font-bold uppercase tracking-widest leading-loose italic text-left">
                                            Never scalp the 1-minute chart if the 1-hour trend is against you. The institutional "General" is the 1-Hour chart. The "Soldier" is the 1-Minute entry. Always ensure the General is facing the direction you want to deploy your soldiers. <strong>Confluence</strong> is the only way to profit.
                                        </p>
                                    </div>

                                    <h3>1. Candlestick Battle Logs (Thermal Signature)</h3>
                                    <div className="interactive-box text-center">
                                        <h4 className="text-white font-black uppercase text-xs tracking-widest mb-12 text-center italic text-[#c5a059] text-center text-center text-center text-center">Interactive Battle simulator</h4>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-16 items-center text-left text-left text-left text-left">
                                            <div className="space-y-6 text-left">
                                                <div className="space-y-6 text-left">
                                                    <div>
                                                        <label className="text-[9px] font-black text-zinc-500 uppercase italic tracking-widest text-left">Invasion Peak (High)</label>
                                                        <input type="range" min="150" max="200" value={candleHigh} onChange={(e) => setCandleHigh(parseInt(e.target.value))} className="slider-custom mt-2" />
                                                    </div>
                                                    <div>
                                                        <label className="text-[9px] font-black text-[#c5a059] uppercase italic tracking-widest text-left">Victory Point (Close)</label>
                                                        <input type="range" min="80" max="150" value={candleClose} onChange={(e) => setCandleClose(parseInt(e.target.value))} className="slider-custom mt-2" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div className="flex flex-col items-center text-center">
                                                <div className="relative w-32 h-[300px] flex flex-col items-center justify-center text-center text-center">
                                                    <div className="w-[2px] bg-zinc-700 absolute text-center" style={{ top: '20px', height: `${Math.max(0, candleHigh - Math.max(candleOpen, candleClose))}px`, marginTop: `${100 - (candleHigh / 2)}px` }}></div>
                                                    <div className={`w-16 absolute shadow-lg transition-all duration-500 ${candleClose >= candleOpen ? 'bg-green-500 shadow-green-500/30' : 'bg-red-500 shadow-red-500/30'}`} 
                                                         style={{ top: `${150 - (Math.max(candleOpen, candleClose) / 2)}px`, height: `${Math.max(8, Math.abs(candleClose - candleOpen))}px`, borderRadius: '3px' }}></div>
                                                    <div className="w-[2px] bg-zinc-700 absolute text-center" style={{ top: `${150 - (Math.min(candleOpen, candleClose) / 2) + Math.abs(candleClose - candleOpen)}px`, height: `${Math.max(0, Math.min(candleOpen, candleClose) - candleLow)}px` }}></div>
                                                </div>
                                                <div className="mt-12 text-center text-center text-center">
                                                    <p className="text-white font-black italic uppercase text-lg tracking-tighter text-center">
                                                        {Math.abs(candleHigh - Math.max(candleOpen, candleClose)) > 40 ? "SELLER REJECTION" : candleClose > candleOpen ? "BUYER COMMAND" : "SELLER COMMAND"}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="psychology-card">
                                        <h4 className="text-[#0ea5e9] italic text-sm mb-4 flex items-center gap-3">
                                            <Icon name="Compass" size={18} /> Psychology of Execution: The Neutral State
                                        </h4>
                                        <p className="text-zinc-400 text-[11px] font-bold uppercase tracking-widest leading-loose italic">
                                            FOMO (Fear of Missing Out) is the #1 reason students lose money. You see price move and you chase it. Professional Architects know that <strong>Cash is a tactical position.</strong> If the setup doesn't hit your "Golden Retest" zone, you do not deploy. The market does not owe you a trade today. Be okay with doing nothing.
                                        </p>
                                    </div>

                                    <h3>2. The Consolidation Phase (The Tight Spring)</h3>
                                    <p><strong>Consolidation</strong> is a phase where price move sideways in a box. This is where banks build their army. <strong>Trading inside the box is a trap.</strong> We join the winner *after* the break.</p>

                                    <h3>3. The 4 Cycles of the Machine</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 my-12 text-left">
                                        {[
                                            { name: 'Accumulation', desc: 'Consolidation box. Banks buying quietly.', color: 'text-[#c5a059]' },
                                            { name: 'Markup', desc: 'Expansion phase. Staircase Up.', color: 'text-green-500' },
                                            { name: 'Distribution', desc: 'Peak consolidation. High manipulation.', color: 'text-red-500' },
                                            { name: 'Markdown', desc: 'Expansion phase. Staircase Down.', color: 'text-zinc-500' }
                                        ].map(cycle => (
                                            <div key={cycle.name} onClick={() => setActiveCycle(cycle.name)} 
                                                 className={`p-8 border rounded-2xl cursor-pointer transition-all duration-500 flex flex-col justify-between h-full ${activeCycle === cycle.name ? 'bg-[#c5a059]/10 border-[#c5a059] active-glow opacity-100 scale-105' : 'bg-zinc-950 border-white/5 opacity-40 hover:opacity-70'}`}>
                                                <h5 className={`${cycle.color} font-black uppercase text-sm mb-4 italic tracking-widest text-left`}>{cycle.name}</h5>
                                                <p className="text-[11px] text-zinc-400 uppercase font-bold tracking-widest leading-relaxed text-left">{cycle.desc}</p>
                                            </div>
                                        ))}
                                    </div>

                                    <h3>4. Order Blocks (Institutional Fortresses)</h3>
                                    <div className="visual-card bg-amber-500/[0.01] border-amber-500/10">
                                        <svg viewBox="0 0 400 200" className="w-full max-w-lg">
                                            <rect x="0" y="30" width="400" height="35" fill="#ef4444" fillOpacity="0.1" stroke="#ef4444" strokeWidth="1" strokeDasharray="5 5" />
                                            <text x="200" y="22" textAnchor="middle" fill="#ef4444" fontSize="10" fontWeight="900" className="uppercase tracking-[0.4em]">Supply Zone (Institutional Sells)</text>
                                            <rect x="0" y="135" width="400" height="35" fill="#10b981" fillOpacity="0.1" stroke="#10b981" strokeWidth="1" strokeDasharray="5 5" />
                                            <text x="200" y="190" textAnchor="middle" fill="#10b981" fontSize="10" fontWeight="900" className="uppercase tracking-[0.4em]">Demand Zone (Institutional Buys)</text>
                                            <path d="M20 135 L60 40 L110 150 L180 50 L250 145 L320 40 L380 155" stroke="#c5a059" strokeWidth="2.5" fill="none" className="path-draw" />
                                        </svg>
                                    </div>

                                    <h3>5. Break & Retest Entry Protocol</h3>
                                    <div className="interactive-box text-center">
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12 text-center">
                                            <button onClick={() => setStructureStep(0)} className={`p-5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${structureStep === 0 ? 'bg-[#c5a059] text-black border-[#c5a059] shadow-lg' : 'bg-black text-zinc-600 border-white/5'}`}>1. Break</button>
                                            <button onClick={() => setStructureStep(1)} className={`p-5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${structureStep === 1 ? 'bg-green-500 text-black border-green-500 shadow-[0_0_30px_rgba(16,185,129,0.3)]' : 'bg-black text-zinc-600 border-white/5'}`}>2. Retest (BUY)</button>
                                            <button onClick={() => setStructureStep(2)} className={`p-5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${structureStep === 2 ? 'bg-[#c5a059] text-black border-[#c5a059] shadow-[0_0_30px_rgba(197,160,89,0.3)]' : 'bg-black text-zinc-600 border-white/5'}`}>3. Expansion</button>
                                        </div>
                                        <div className="visual-card bg-black h-64 flex items-center justify-center relative border-amber-500/10 overflow-hidden text-center text-center">
                                            <svg viewBox="0 0 400 150" className="w-full h-full text-center text-center">
                                                <line x1="0" y1="75" x2="400" y2="75" stroke="white" strokeWidth="1" strokeOpacity="0.05" strokeDasharray="8 8" />
                                                {structureStep >= 0 && <path d="M20 120 L80 100 L140 120 L200 40" stroke="#c5a059" strokeWidth="4" fill="none" className="path-draw" />}
                                                {structureStep >= 1 && <path d="M200 40 L240 75" stroke="#10b981" strokeWidth="4" fill="none" className="path-draw" />}
                                                {structureStep >= 2 && <path d="M240 75 L320 20" stroke="#0ea5e9" strokeWidth="4" fill="none" className="path-draw" />}
                                                {structureStep === 1 && <circle cx="240" cy="75" r="18" fill="none" stroke="#10b981" strokeWidth="2" className="animate-ping" />}
                                            </svg>
                                        </div>
                                    </div>

                                    <h3>6. Operational Execution Protocol</h3>
                                    <div className="space-y-6 my-12 text-left">
                                        {[
                                            { title: 'The Mid-Price Protocol', text: 'Never take the "Market Price." Set your Limit Order at the Mid-Point between Bid and Ask. Save 5% instantly.' },
                                            { title: 'Choosing Expiration', text: 'Give the trade space. If target takes 2 days, buy 14-day options. This kills Theta decay.' },
                                            { title: 'Strike Selection', text: 'Pick a strike price with a Delta of 0.50 to 0.70. Capture the "Meat" of the move.' }
                                        ].map((step, i) => (
                                            <div key={i} className="flex gap-8 p-10 bg-zinc-900/30 border border-white/5 rounded-2xl hover:border-[#c5a059]/20 transition-all text-left text-left text-left">
                                                <span className="text-3xl font-black text-[#c5a059] italic opacity-30 text-left text-left text-left">0{i+1}</span>
                                                <div>
                                                    <h5 className="text-white font-black uppercase text-sm mb-3 tracking-widest italic tracking-widest text-left text-left">{step.title}</h5>
                                                    <p className="text-[11px] text-zinc-400 uppercase font-bold tracking-widest leading-loose text-left text-left text-left">{step.text}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}
                        </section>

                        {/* FINAL DECREE */}
                        <section id="decree" className="items-center justify-center text-center border-none">
                            <div className="w-24 h-1 bg-[#c5a059] mx-auto mb-12 text-center text-center"></div>
                            <h2 className="text-5xl md:text-[8rem] leading-none italic uppercase font-black tracking-tighter text-center text-center text-center">The Decree</h2>
                            <p className="text-2xl text-zinc-300 font-medium italic mt-12 max-w-2xl mx-auto text-center leading-relaxed text-center text-center">"Leverage is a sharp tool. In the hands of a Master, it builds empires. In the hands of the reckless, it destroys them."</p>
                            <button onClick={() => jumpTo('cover')} className="bg-[#c5a059] text-black px-16 py-6 rounded-2xl font-black uppercase tracking-[0.3em] text-sm italic hover:bg-white active:scale-95 transition-all shadow-2xl shadow-[#c5a059]/20 mt-12 mx-auto text-center">RESTART</button>
                        </section>
                    </main>

                    {/* Sidebar Button */}
                    <button onClick={() => setIsMenuOpen(true)} className="fixed bottom-8 right-8 z-50 p-6 bg-[#c5a059] text-black rounded-full shadow-2xl shadow-[#c5a059]/30 active:scale-90 transition-transform">
                        <Icon name="Archive" size={28} />
                    </button>
                </div>
            );
        };

        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
